(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1165:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getVideoSdkInfo=e._redeem=e._send=e._synclist=e._preCheckVip=e._getGeekVipInfo=e._deleteVideoResume=e._deleteResume=e._renameVideoResume=e._renameResume=e._actionLog=e._resumeRefresh=e._resumeList=e._activeness=e._saveApplyStatus=e._baseinfo=e._jobsFromChatInterview=e._jobsFromEmployer=e._garbageLayer=e._jobsFromChatDeliver=e._jobDes=e._jobsFromSystem=e._query=e._conditions=e._oldIndustry=e._industry=e._BluePartTimePositions=e._cityPosition=e._positionStudent=e._positionIntern=e._position=e._city=e._cityGroup=void 0;var n=a(83),s=(0,n.createGet)("/wapi/zpCommon/data/cityGroup.json");e._cityGroup=s;var i=(0,n.createGet)("/wapi/zpCommon/data/city.json");e._city=i;var r=(0,n.createGet)("/wapi/zpCommon/data/position.json");e._position=r;var c=(0,n.createGet)("/wapi/zpCommon/data/intern.json");e._positionIntern=c;var o=(0,n.createGet)("/wapi/zpgeek/common/data/expectposition.json");e._positionStudent=o;var u=(0,n.createGet)("/wapi/zpCommon/data/getCityPosition");e._cityPosition=u;var l=(0,n.createGet)("/wapi/zpCommon/data/bluePartTimePosition");e._BluePartTimePositions=l;var d=(0,n.createGet)("/wapi/zpCommon/data/industry.json");e._industry=d;var p=(0,n.createGet)("/wapi/zpCommon/data/oldindustry.json");e._oldIndustry=p;var f=(0,n.createGet)("/wapi/zpgeek/recommend/conditions.json");e._conditions=f;var h=(0,n.createGet)("/wapi/zpgeek/autocomplete/query.json");e._query=h;var m=(0,n.createGet)("/wapi/zpgeek/recommend/job/list.json");e._jobsFromSystem=m;var v=(0,n.createGet)("/wapi/zpgeek/view/job/card.json");e._jobDes=v;var g=(0,n.createGet)("/wapi/zprelation/resume/geekDeliverList");e._jobsFromChatDeliver=g;var y=(0,n.createGet)("/wapi/zpgeek/resume/garbage/layer/show.json");e._garbageLayer=y;var _=(0,n.createGet)("/wapi/zprelation/interaction/geekGetJob");e._jobsFromEmployer=_;var b=(0,n.createGet)("/wapi/zprelation/interview/geek/list");e._jobsFromChatInterview=b;var C=(0,n.createGet)("/wapi/zpgeek/resume/infodata.json");e._baseinfo=C;var w=(0,n.createFormPost)("/wapi/zpgeek/resume/applystatus/save.json");e._saveApplyStatus=w;var D=(0,n.createGet)("/wapi/zpitem/web/resumeRefresh/activeness.json");e._activeness=D;var k=(0,n.createGet)("/wapi/zpgeek/resume/sidebar.json");e._resumeList=k;var P=(0,n.createFormPost)("/wapi/zpitem/web/resumeRefresh/useItem");e._resumeRefresh=P;var I=(0,n.createFormPost)("/wapi/zpCommon/actionLog/common.json");e._actionLog=I;var z=(0,n.createFormPost)("/wapi/zpgeek/resume/attachment/name/update.json");e._renameResume=z;var x=(0,n.createFormPost)("/wapi/zpgeek/geek/videoresume/updatecustomname.json");e._renameVideoResume=x;var S=(0,n.createFormPost)("/wapi/zpgeek/resume/attachment/delete.json");e._deleteResume=S;var T=(0,n.createFormPost)("/wapi/zpgeek/geek/videoresume/delete.json");e._deleteVideoResume=T;var j=(0,n.createGet)("/wapi/zpitem/geek/vip/info");e._getGeekVipInfo=j;var L=(0,n.createGet)("/wapi/zpitem/geek/product/preCheck");e._preCheckVip=L;var O=(0,n.createGet)("/wapi/zpgeek/geek/resume/synclist.json");e._synclist=O;var R=(0,n.createFormPost)("/wapi/zpgeek/geek/resume/send.json");e._send=R;var $=(0,n.createFormPost)("/wapi/zpitem/web/geekVip/redeem");e._redeem=$;var B=(0,n.createGet)("/wapi/zprelation/interview/video/getSdkInfo");e._getVideoSdkInfo=B},1178:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getDiscountInfoNew=e._getPreOrderInfo=e._geekVipPreOrder=e._getGeekVipPrivilege=e._preCheckVip=e._checkRechargeBean=e._postRechargeBean=e._getDiscountInfo=e._getMoneyInfo=e._getItemSellUnit=e.PlaceOrder=e.PreOrder=void 0;var n=a(83);function s(t,e,a,n,s,i,r){try{var c=t[i](r),o=c.value}catch(t){return void a(t)}c.done?e(o):Promise.resolve(o).then(n,s)}function i(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var r=t.apply(e,a);function c(t){s(r,n,i,c,o,"next",t)}function o(t){s(r,n,i,c,o,"throw",t)}c(void 0)}))}}var r=function(){var t=i(regeneratorRuntime.mark((function t(e){var a,s,r,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={itemId:t.itemId,paramsJson:JSON.stringify({source:t.source||""})};return(0,n.post)("/wapi/zpitem/web/itemMall/preOrder/"+t.itemId,(0,n.paramsQuery)(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.post)("/wapi/zpp/user/bzbOrderInfo",(0,n.paramsQuery)(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.get)("/wapi/zpp/user/bzbDiscountList",t)},c={},o={},t.next=7,a(e.options).then(function(){var t=i(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.code||!e.zpData||!e.zpData.bzbParam){t.next=19;break}return t.next=3,s({bzbParam:e.zpData.bzbParam});case 3:return a=t.sent,t.next=6,r({bzbParam:e.zpData.bzbParam,pageSize:10});case 6:if(n=t.sent,0!=a.code||!a.zpData){t.next=11;break}c=a.zpData,t.next=12;break;case 11:return t.abrupt("return",a);case 12:if(0!=n.code||!n.zpData){t.next=16;break}o=n.zpData,t.next=17;break;case 16:return t.abrupt("return",n);case 17:t.next=20;break;case 19:return t.abrupt("return",e);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:return t.abrupt("return",{orderData:c,discountData:o});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.PreOrder=r;var c=function(){var t=i(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.post)("/wapi/zpp/user/bzbOrder",(0,n.paramsQuery)(e.options),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.PlaceOrder=c;var o=(0,n.createGet)("/wapi/zpitem/web/geek/sellUnit.json");e._getItemSellUnit=o;var u=(0,n.createGet)("/wapi/zpp/user/accountInfo");e._getMoneyInfo=u;var l=(0,n.createGet)("/wapi/zpitem/web/geek/recharge/discount/check.json");e._getDiscountInfo=l;var d=(0,n.createFormPost)("/wapi/zpp/user/rechargeBean");e._postRechargeBean=d;var p=(0,n.createFormPost)("/wapi/zpp/user/payOrderSync");e._checkRechargeBean=p;var f=(0,n.createGet)("/wapi/zpitem/geek/product/preCheck");e._preCheckVip=f;var h=(0,n.createFormPost)("/wapi/zpitem/geek/vip/privilege");e._getGeekVipPrivilege=h;var m=(0,n.createFormPost)("/wapi/zpitem/geek/product/preOrder");e._geekVipPreOrder=m;var v=(0,n.createFormPost)("/wapi/zpp/user/bzbOrderInfo");e._getPreOrderInfo=v;e._getDiscountInfoNew=function(t){var e=t.encryptItemId;return(0,n.post)("/wapi/zpitem/web/itemMall/getDiscountInfo/".concat(e),(0,n.paramsQuery)(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},1179:function(t,e,a){"use strict";a.r(e);var n=a(1880),s=a(1262);for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);var r=a(24),c=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);e.default=c.exports},1182:function(t,e,a){t.exports=a.p+"static/images/icon-succ.9cff7980.png"},1262:function(t,e,a){"use strict";a.r(e);var n=a(1263),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=s.a},1263:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(1178),s=o(a(1644)),i=o(a(1524)),r=o(a(1527)),c=o(a(1528));function o(t){return t&&t.__esModule?t:{default:t}}function u(t,e,a,n,s,i,r){try{var c=t[i](r),o=c.value}catch(t){return void a(t)}c.done?e(o):Promise.resolve(o).then(n,s)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,c,"next",t)}function c(t){u(i,n,s,r,c,"throw",t)}r(void 0)}))}}var d={components:{competitive:s.default,confirmOrder:i.default,scanOrder:r.default,paySuccess:c.default},data:function(){return{showBuyDialog:this.value,list:[],isLoading:!0,itemData:null,moneyData:null,couponData:null,orderData:null,discountData:null,configData:{action:"itembuy",requestLoading:!1,payLoading:!1},scanData:null,showDialogStatus:"",successType:""}},props:{value:{type:Boolean,default:!1},data:{type:Object,default:null},config:{type:Object,default:function(){return{}}},wrapClass:{type:String,default:""},source:{type:Number,default:0},propType:""},computed:{successBtnText:function(){if(this.config&&this.config.successText&&"string"==typeof this.config.successText.btnText)return this.config.successText.btnText},successTitle:function(){if(this.config&&this.config.successText&&"string"==typeof this.config.successText.title)return this.config.successText.title},successDesc:function(){if(this.config&&this.config.successText&&"string"==typeof this.config.successText.desc)return this.config.successText.desc},getItemName:function(){if(!_PAGE)return"简历刷新";var t=(_PAGE.uid+"").substr(-3,1);return parseInt(t,10)%2==0?"求职火箭":"简历刷新"}},watch:{value:function(t){this.showBuyDialog=t}},methods:{getPriceInfo:function(){var t=this;return l(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n._getItemSellUnit)({encryptItemType:t.data.encryptItemType});case 2:return a=e.sent,e.next=5,(0,n._getMoneyInfo)();case 5:s=e.sent,a.zpData&&a.zpData&&a.zpData.itemSellUnit&&(a.zpData.itemSellUnit.itemSellItemList&&a.zpData.itemSellUnit.itemSellItemList.reverse(),t.itemData=a.zpData.itemSellUnit,t.showContent()),7==a.code&&(t.showBuyDialog=!1),s.zpData&&(t.moneyData=s.zpData);case 9:case"end":return e.stop()}}),e)})))()},buy:function(t){PropBuy.competitive(this,t)},dialogChange:function(t){this.$emit("input",t),this.resetContent(),t?this.config&&"recharge"==this.config.action?(this.showDialogStatus="bean-buy",this.isLoading=!1):this.config&&"vip"==this.config.action?(this.showDialogStatus="",this.isLoading=!0,this.handleBuyVip()):this.getPriceInfo():this.$refs.scan&&this.$refs.scan.endPollingCheck&&this.$refs.scan.endPollingCheck()},confirmDialog:function(){},showContent:function(){this.itemData&&this.itemData&&[11,21].includes(this.itemData.itemType)&&(this.showDialogStatus="select-competitive",this.isLoading=!1),this.itemData&&this.itemData&&[17,20].includes(this.itemData.itemType)&&(this.isLoading=!0,this.preOrderAction(this.itemData.itemSellItemList[0].encryptItemId))},resetContent:function(){this.showDialogStatus="",this.isLoading=!0},sendPayAction:function(t){var e=this;this.configData.payLoading=!0,(0,n.PlaceOrder)({options:t}).then((function(t){0==t.code&&t.zpData?1==t.zpData.status?(e.$toast({type:"success",content:"购买成功"}),e.showBuyDialog=!1):3==t.zpData.status?(t.zpData.bzbChannel&&(t.zpData.payChannel=t.zpData.bzbChannel),e.scanData={infoData:t.zpData,orderData:e.orderData},e.showDialogStatus="scan-order"):e.$toast({type:"error",content:"支付失败"}):e.$toast({type:"error",content:t.message}),e.configData.payLoading=!1}))},preOrderAction:function(t){var e=this;this.configData.requestLoading=!0,(0,n.PreOrder)({options:{action:"itembuy",itemId:t,source:this.getSource()},money:this.moneyData}).then((function(t){t.orderData&&t.orderData.businessId&&(e.orderData=t.orderData,e.showDialogStatus="confirm-order"),e.configData.requestLoading=!1,e.isLoading=!1}))},onConfirmSuccess:function(){if(this.config&&"vip"===this.config.action)this.successType="vip",this.showDialogStatus="pay-success";else if(this.itemData&&this.itemData.encryptItemType)switch(this.itemData.encryptItemType){case"b5799fd5b0d1ce3b1XU~":case"7197be0f338db9cd1XQ~":this.successType=this.itemData.encryptItemType,this.showDialogStatus="pay-success";break;default:this.showBuyDialog=!1}else this.showBuyDialog=!1},handleSuccessClick:function(){"b5799fd5b0d1ce3b1XU~"!==this.successType&&"7197be0f338db9cd1XQ~"!==this.successType||this.$router.push({path:"/web/geek/item",query:{type:this.successType}}),this.showBuyDialog=!1,this.successType="",this.$emit("success-btn-click")},handleBuyVip:function(){var t=this;return l(regeneratorRuntime.mark((function e(){var a,s,i,r,c,o,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n._preCheckVip)();case 2:if(a=e.sent,s="暂时无法开通VIP",i="",r=!1,c="我知道啦",o="",u="warning",0==a.code){e.next=33;break}t.showDialogStatus="",t.isLoading=!1,t.showBuyDialog=!1,e.t0=a.code,e.next=600401===e.t0?16:600083===e.t0?18:600082===e.t0?23:28;break;case 16:return i="距离到期时间超过2个月，暂时无法续费",e.abrupt("break",29);case 18:return i="简历未完善或过于简单，请您完善后再刷新简历",r="稍后完善",c="立即完善",o="/geek/complete/guide.html",e.abrupt("break",29);case 23:return i="您隐藏了简历，请取消隐藏简历后再刷新",r="稍后处理",c="取消隐藏",o="/web/geek/account?type=privacySet",e.abrupt("break",29);case 28:i=a.message||"您暂时无法购买牛人VIP";case 29:return t.$dialog({title:s,content:i,type:u,confirmText:c,cancelText:r,onConfirm:function(){o&&(window.location.href=o)}}),e.abrupt("return");case 33:return e.next=35,(0,n._geekVipPreOrder)({encryptPriceId:t.config.encryptPriceId,productType:t.config.productType,source:t.source});case 35:if(0!==(l=e.sent).code){e.next=45;break}return e.next=39,(0,n._getPreOrderInfo)({bzbParam:l.zpData.bzbParam});case 39:0==(d=e.sent).code&&d.zpData&&d.zpData.businessId&&(t.orderData=d.zpData,t.showDialogStatus="confirm-order"),t.configData.requestLoading=!1,t.isLoading=!1,e.next=49;break;case 45:t.showDialogStatus="",t.isLoading=!1,t.showBuyDialog=!1,t.$dialog({title:s,content:l.message||"订单处理失败",type:u,confirmText:c,cancelText:r});case 49:case"end":return e.stop()}}),e)})))()},getSource:function(){if(this.config&&"vip"==this.config.action&&this.config.source)return"personal-center-name";switch(this.$route.name){case"cpc_mall":return"recruit-assistant";case"cpc_rcmd_system":return"personal-center";case"cpc_resume":return"personal-resume"}return""}},mounted:function(){}};e.default=d},1264:function(t,e,a){"use strict";a.r(e);var n=a(1265),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=s.a},1265:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(1178);function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e,a,n,s,i,r){try{var c=t[i](r),o=c.value}catch(t){return void a(t)}c.done?e(o):Promise.resolve(o).then(n,s)}var r={data:function(){return{list:[],isLoading:!0,itemSellItemList:this.data&&this.data.itemSellItemList,selectedItemId:this.data&&this.data.itemSellItemList[0].encryptItemId,amount:0,totalData:{price:0,needPay:0},discountInfo:{}}},props:{data:{type:Object,default:function(){return{}}},config:{type:Object,default:function(){return{}}},moneyData:{type:Object,default:function(){return{}}},propType:""},watch:{},computed:{itemData:function(){return this.data||{}},discountPrice:function(){var t=this.discountInfo.price,e=(this.totalData||{}).price;return t||e||0},originalPrice:function(){var t=this.discountInfo.originalPrice,e=(this.totalData||{}).price;return t||e||0},discountList:function(){var t=this.discountInfo,e=t.discountList;return t.simpleDiscountList||e||[]},allDiscountList:function(){var t=this.discountInfo.allDiscountList;return t||[]}},methods:{getDiscountInfoNew:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n._getDiscountInfoNew)({encryptItemId:e.selectedItemId,source:"",paramsJson:JSON.stringify({})});case 2:a=t.sent,s=a.code,i=a.zpData,0==s&&(e.discountInfo=i&&i.itemDiscountInfo?i.itemDiscountInfo:{});case 6:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(n,s){var r=t.apply(e,a);function c(t){i(r,n,s,c,o,"next",t)}function o(t){i(r,n,s,c,o,"throw",t)}c(void 0)}))})()},preferentialClasses:function(t,e){var a;return[(a={},s(a,"show-advice-icon",0===e),s(a,"selected",this.selectedItemId===t.encryptItemId),a)]},selectItem:function(t){this.selectedItemId=t.encryptItemId,this.getDiscountInfoNew(),this.calculatePrice(t)},calculatePrice:function(t){this.totalData.price=t.price,t.price>this.amount?this.totalData.needPay=t.price-this.amount:this.totalData.needPay=0},sendPreOrderAction:function(){if(this.config.requestLoading)return!1;this.$emit("on-preorder-action",this.selectedItemId)}},mounted:function(){this.moneyData.amount&&(this.amount=this.moneyData.amount/100),this.calculatePrice(this.data&&this.data.itemSellItemList[0]),this.getDiscountInfoNew(),this.$emit("on-mounted-child")}};e.default=r},1266:function(t,e,a){t.exports=a.p+"static/images/icon-shield.66f8dba8.png"},1267:function(t,e,a){"use strict";a.r(e);var n=a(1268),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=s.a},1268:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,s=a(1178);function i(t,e,a,n,s,i,r){try{var c=t[i](r),o=c.value}catch(t){return void a(t)}c.done?e(o):Promise.resolve(o).then(n,s)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var r=t.apply(e,a);function c(t){i(r,n,s,c,o,"next",t)}function o(t){i(r,n,s,c,o,"throw",t)}c(void 0)}))}}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={components:{CssLoading:((n=a(1525))&&n.__esModule?n:{default:n}).default},data:function(){return{list:[],isLoading:!0,isShowCoupon:!1,selectedType:"",showDirectlyPayLoading:!1,scanData:null,pollingTimer:null,checkStatus:0}},props:{data:{type:Object,default:function(){return{}}},moneyData:{type:Object,default:function(){return{}}},config:{type:Object,default:function(){return{}}}},watch:{},computed:{selectedChannel:function(){return 1==this.selectedType?"支付宝":"微信"},itemData:function(){return this.data||{}},discountList:function(){var t=(this.data||{}).discountList;return t||[]}},methods:{preferentialClasses:function(t,e){var a;return[(a={},c(a,"show-advice-icon",0===e),c(a,"selected",this.selectedItemId===t.encryptItemId),a)]},showCouponList:function(){this.isShowCoupon=!this.isShowCoupon},sendPay:function(t){if(!this.showDirectlyPayLoading){var e={};if(this.selectedType===t)return!1;t&&(this.selectedType=t),"recharge"==this.config.action?(e={amount:this.data.amount,payChannel:t},this.sendPayAction(e)):(e={bzbParam:this.data.bzbParam,discountId:this.data.discountId,bzbChannel:t||4,discountParam:this.data.discountParam||""},this.pay(e))}},sendPayAction:function(t){var e=this;return r(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.showDirectlyPayLoading=!0,a.next=3,(0,s._postRechargeBean)(t);case 3:n=a.sent,e.showDirectlyPayLoading=!1,i="",1==t.payChannel&&(i="zfb"),2==t.payChannel&&(i="wx"),0==n.code&&n.zpData?(e.scanData=n.zpData,e.startPollingCheck(),e.sendEvent("payment_pass_"+i+"_"+n.zpData.orderId)):(e.$toast({type:"error",content:n.message}),e.sendEvent("payment_fail_"+i+"_"+n.code));case 9:case"end":return a.stop()}}),a)})))()},pay:function(t){var e=this;this.showDirectlyPayLoading=!0,this.endPollingCheck(),(0,s.PlaceOrder)({options:t}).then((function(t){0==t.code&&t.zpData?1==t.zpData.status?(e.$toast({type:"success",content:"购买成功"}),e.$emit("on-confirm-success")):3==t.zpData.status?t.zpData.bzbChannel==e.selectedType&&(e.scanData=t.zpData,e.startPollingCheck()):e.$toast({type:"error",content:"支付失败"}):e.$toast({type:"error",content:t.message}),e.showDirectlyPayLoading=!1}))},checkRechargeBean:function(t){var e=this;return r(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t&&(e.checkStatus=9),a.next=3,(0,s._checkRechargeBean)({orderId:e.scanData.orderId});case 3:0==(n=a.sent).code?1==n.zpData.state?(e.$toast({type:"success",content:"购买成功"}),e.endPollingCheck(),e.contentStatus=1,localStorage.setItem("_geek_his_pay_type",e.selectedType),e.$emit("on-confirm-success"),e.sendEvent("payment_scan_success_"+e.scanData.orderId)):t?e.checkStatus=n.zpData.state:e.startPollingCheck():(e.$toast({type:"error",content:n.message}),e.sendEvent("payment_scan_error_"+e.scanData.orderId));case 5:case"end":return a.stop()}}),a)})))()},endPollingCheck:function(){this.pollingTimer&&clearTimeout(this.pollingTimer)},startPollingCheck:function(){var t=this;this.endPollingCheck(),this.pollingTimer=setTimeout((function(){t.checkRechargeBean()}),3e3)},initPayType:function(){if(this.config&&this.config.action&&"recharge"==this.config.action||this.data.remainAmount<this.data.amount){var t=1;if(_PAGE&&_PAGE.uid){var e=localStorage.getItem("_geek_his_pay_type");e&&!isNaN(e)&&(t=Number(e))}this.sendPay(t)}}},mounted:function(){this.initPayType(),this.$emit("on-mounted-child")},beforeDestroy:function(){this.endPollingCheck()}};e.default=o},1269:function(t,e,a){"use strict";a.r(e);var n=a(1270),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=s.a},1270:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"CssLoading",data:function(){for(var t=[],e=1;e<=12;e++)t.push(e);return{list:t}}}},1271:function(t,e,a){"use strict";a.r(e);var n=a(1272),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=s.a},1272:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(1178);function s(t,e,a,n,s,i,r){try{var c=t[i](r),o=c.value}catch(t){return void a(t)}c.done?e(o):Promise.resolve(o).then(n,s)}function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r={components:{},data:function(){return{list:[],isLoading:!0,isShowCoupon:!1,channelText:{1:"支付宝",2:"微信"},pollingTimer:null,checkStatus:0,showDialog2:!1,contentStatus:0}},props:{data:{type:Object,default:function(){return{}}},moneyData:{type:Object,default:function(){return{}}},discountData:{type:Object,default:function(){return{}}},config:{type:Object,default:function(){return{}}}},watch:{},computed:{infoData:function(){return this.data&&this.data.infoData||{}},orderData:function(){return this.data&&this.data.orderData||{}}},methods:{preferentialClasses:function(t,e){var a;return[(a={},i(a,"show-advice-icon",0===e),i(a,"selected",this.selectedItemId===t.encryptItemId),a)]},showCouponList:function(){this.isShowCoupon=!this.isShowCoupon},checkRechargeBean:function(t){var e,a=this;return(e=regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(a.checkStatus=9),e.next=3,(0,n._checkRechargeBean)({orderId:a.infoData.orderId});case 3:0==(s=e.sent).code?1==s.zpData.state?(a.endPollingCheck(),a.contentStatus=1,a.$emit("on-pay-scan-success"),a.sendEvent("payment_scan_success_"+a.infoData.orderId)):t?a.checkStatus=s.zpData.state:a.startPollingCheck():(a.$toast({type:"error",content:s.message}),a.sendEvent("payment_scan_error_"+a.infoData.orderId));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,i){var r=e.apply(t,a);function c(t){s(r,n,i,c,o,"next",t)}function o(t){s(r,n,i,c,o,"throw",t)}c(void 0)}))})()},startPollingCheck:function(){var t=this;this.pollingTimer=setTimeout((function(){t.checkRechargeBean()}),3e3)},endPollingCheck:function(){this.pollingTimer&&clearTimeout(this.pollingTimer)},checkPay:function(){this.checkRechargeBean(!0)},closeSuccessDialog:function(){this.$emit("on-confirm-success")}},mounted:function(){this.startPollingCheck();var t="";this.infoData&&this.infoData.payChannel&&(1==this.infoData.payChannel&&(t="zfb"),2==this.infoData.payChannel&&(t="wx")),this.sendEvent("payment_"+t+"_scan_"+this.infoData.orderId),this.$emit("on-mounted-child")},beforeDestroy:function(){this.endPollingCheck()}};e.default=r},1273:function(t,e,a){"use strict";a.r(e);var n=a(1274),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=s.a},1274:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"pay-success",props:{btnText:{type:String,default:"立即使用"},title:{type:String,default:"购买成功"},desc:{type:String,default:""}},methods:{handleButtonClick:function(){this.$emit("confirm")}}};e.default=n},1524:function(t,e,a){"use strict";a.r(e);var n=a(1970),s=a(1267);for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);var r=a(24),c=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);e.default=c.exports},1525:function(t,e,a){"use strict";a.r(e);var n=a(1968),s=a(1269);for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);a(1647);var r=a(24),c=Object(r.a)(s.default,n.a,n.b,!1,null,"83eadec0",null);e.default=c.exports},1526:function(t,e,a){},1527:function(t,e,a){"use strict";a.r(e);var n=a(1950),s=a(1271);for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);var r=a(24),c=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);e.default=c.exports},1528:function(t,e,a){"use strict";a.r(e);var n=a(1948),s=a(1273);for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);var r=a(24),c=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);e.default=c.exports},1644:function(t,e,a){"use strict";a.r(e);var n=a(1972),s=a(1264);for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);var r=a(24),c=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);e.default=c.exports},1645:function(t,e,a){t.exports=a.p+"static/images/discount-check.7d07ab07.png"},1646:function(t,e,a){t.exports=a.p+"static/images/discount-more.d14e4b1f.png"},1647:function(t,e,a){"use strict";a(1526)},1880:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ui-dialog",{class:[{"confirm-order-dialog":"confirm-order"==t.showDialogStatus}],attrs:{wrapClass:t.wrapClass,showFooter:!1,preventLayer:!0},on:{"on-visible-change":t.dialogChange,"on-confirm":t.confirmDialog},model:{value:t.showBuyDialog,callback:function(e){t.showBuyDialog=e},expression:"showBuyDialog"}},[a("template",{slot:"content"},["select-competitive"!=t.showDialogStatus||t.isLoading?t._e():a("competitive",{attrs:{"prop-type":t.propType,data:t.itemData,config:t.configData,moneyData:t.moneyData},on:{"on-cancel":function(e){t.showBuyDialog=!1},"on-preorder-action":t.preOrderAction}}),"confirm-order"==t.showDialogStatus?a("confirm-order",{attrs:{data:t.orderData,moneyData:t.moneyData,config:t.configData},on:{"on-send-pay":t.sendPayAction,"on-confirm-success":t.onConfirmSuccess}}):t._e(),"scan-order"==t.showDialogStatus?a("scan-order",{ref:"scan",attrs:{data:t.scanData,moneyData:t.moneyData},on:{"on-confirm-success":t.onConfirmSuccess}}):t._e(),"pay-success"==t.showDialogStatus?a("pay-success",{attrs:{"btn-text":t.successBtnText,title:t.successTitle,desc:t.successDesc},on:{confirm:t.handleSuccessClick}}):t._e(),t.isLoading?a("div",{staticClass:"data-tips"},[a("div",{staticClass:"tip-inner"},[a("p",{staticClass:"gray"},[a("i",{staticClass:"ui-icon-loading"}),t._v("正在加载中...")])])]):t._e()],1)],2)},s=[]},1948:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay-scanorder"},[t._m(0),n("div",{staticClass:"pay-success"},[n("img",{attrs:{src:a(1182),alt:""}}),n("h4",[t._v(t._s(t.title))]),t.desc?n("p",{staticClass:"gray"},[t._v(t._s(t.desc))]):t._e(),n("div",{staticClass:"btns"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.handleButtonClick}},[t._v(t._s(t.btnText))])])])])},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"pay-title"},[e("img",{attrs:{src:a(1266)}}),e("span",[this._v("安全支付")])])}]},1950:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay-scanorder"},[t._m(0),0==t.contentStatus?n("div",{staticClass:"scan-content"},[n("div",{staticClass:"pay-info"},[n("i",{class:[{"icon-pay-weixin":2==t.infoData.payChannel},{"icon-pay-alipay":1==t.infoData.payChannel}]}),t._v(t._s(t.channelText[t.infoData.payChannel])),n("span",{staticClass:"currency"},[t._v("￥")]),n("span",{staticClass:"price"},[t._v(t._s(t.orderData&&t.orderData.amount/100))])]),n("div",{staticClass:"pay-qrcode"},[n("img",{attrs:{src:t.infoData.qrUrl,alt:""}})]),0==t.checkStatus?n("div",{staticClass:"pay-result"},[n("span",{staticClass:"gray"},[t._v("使用"+t._s(t.channelText[t.orderData.payChannel])+"扫码支付")]),n("a",{staticClass:"link-check",attrs:{href:"javascript:;"},on:{click:t.checkPay}},[t._v("我已支付")])]):t._e(),2==t.checkStatus||3==t.checkStatus?n("div",{staticClass:"pay-result"},[n("span",{staticClass:"gray"},[t._v("未支付成功，请您扫码完成支付。")]),n("a",{staticClass:"link-check",attrs:{href:"javascript:;"},on:{click:t.checkPay}},[t._v("重新查询")])]):t._e(),9==t.checkStatus?n("div",{staticClass:"pay-result"},[t._m(1)]):t._e()]):t._e(),1==t.contentStatus?n("div",{staticClass:"pay-success"},[n("img",{attrs:{src:a(1182),alt:""}}),n("h4",[t._v("直豆充值成功")]),n("p",{staticClass:"gray"},[t._v("你可以在 BOSS直聘 APP「道具」中查看充值明细")]),n("div",{staticClass:"btns"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.closeSuccessDialog}},[t._v("确定")])])]):t._e()])},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"pay-title"},[e("img",{attrs:{src:a(1266)}}),e("span",[this._v("安全支付")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"gray"},[e("i",{staticClass:"ui-icon-loading"}),this._v("正在查询支付结果，请稍后")])}]},1968:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon-css-loading"},this._l(this.list,(function(t){return e("span",{key:t,class:"icon-css-loading-"+t})})),0)},s=[]},1970:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-preorder"},[t._m(0),t.config.action&&"recharge"==t.config.action?[a("ul",[a("li",{staticClass:"item-info"},[a("div",{staticClass:"cell-name"},[a("img",{attrs:{src:t.data.bizIcon+"?x-oss-process=image/resize,w_160,limit_0",alt:""}}),a("p",[a("b",[t._v(t._s(t.data.bizName))]),a("span",[t._v(t._s(t.data.bizNote))])])]),a("div",{staticClass:"cell-price"},[t._v(t._s(t.data.amount/100)+"直豆")])])]),a("div",{staticClass:"title-way"},[t._v("请选择支付方式：")]),a("div",{staticClass:"pay-way"},[a("div",{staticClass:"btns-way"},[a("span",{staticClass:"btn-weixin",class:{selected:2==this.selectedType},on:{click:function(e){return t.sendPay(2)}}},[a("i",{staticClass:"icon-pay-weixin"}),t._v("微信支付 ")]),a("span",{staticClass:"btn-alipay",class:{selected:1==this.selectedType},on:{click:function(e){return t.sendPay(1)}}},[a("i",{staticClass:"icon-pay-alipay"}),t._v("支付宝 ")])]),a("div",{staticClass:"qrcode-way"},[a("div",{staticClass:"qrcode-image"},[t.showDirectlyPayLoading?a("CssLoading"):t.scanData?a("img",{attrs:{src:t.scanData.qrUrl}}):t._e()],1),0==t.checkStatus?a("div",{staticClass:"pay-result"},[a("span",{staticClass:"gray"},[t._v("使用"+t._s(t.selectedChannel)+"扫码支付")]),a("a",{staticClass:"link-check",attrs:{href:"javascript:;"},on:{click:function(e){return t.checkRechargeBean(!0)}}},[t._v("我已支付")])]):t._e(),2==t.checkStatus||3==t.checkStatus?a("div",{staticClass:"pay-result"},[a("span",{staticClass:"gray"},[t._v("未支付成功，请您扫码完成支付。")]),a("a",{staticClass:"link-check",attrs:{href:"javascript:;"},on:{click:function(e){return t.checkRechargeBean(!0)}}},[t._v("重新查询")])]):t._e(),9==t.checkStatus?a("div",{staticClass:"pay-result"},[t._m(1)]):t._e()])])]:t.config.action&&"itembuy"==t.config.action?[a("div",{staticClass:"order-info-container"},[a("ul",[a("li",{staticClass:"item-info"},[a("div",{staticClass:"cell-name"},[a("img",{attrs:{src:t.data.bizIcon+"?x-oss-process=image/resize,w_160,limit_0",alt:""}}),a("p",[a("b",[t._v(t._s(t.data.bizName))]),a("span",[t._v(t._s(t.data.bizNote))])])]),a("div",{staticClass:"cell-price"},[t._v(t._s(t.data.amount/100)+"直豆")])]),a("li",[a("div",{staticClass:"cell-name"},[t._v("直豆余额")]),a("div",{staticClass:"cell-price"},[t._v(t._s(t.data.remainAmount/100)+"直豆")])]),t.discountList.length?a("li",{staticClass:"discount-info"},t._l(t.discountList,(function(e,n){return a("div",{key:n,staticClass:"discount-info-item"},[a("span",{staticClass:"desc"},[t._v(t._s(e.discountDesc||""))]),a("span",{staticClass:"price"},[t._v(t._s(e.discountAmountDesc||""))])])})),0):t._e(),a("li",[a("div",{staticClass:"cell-name"},[t._v("还需支付")]),a("div",{staticClass:"cell-price"},[a("span",{staticClass:"price need-price"},[t._v(t._s(t.data.needAmount/100)+"直豆")])])]),t.config.coupon?a("li",{staticClass:"item-coupon",class:[{"show-coupon-list":t.isShowCoupon}]},[a("div",{staticClass:"cell-name"},[t._v("优惠券")]),a("div",{staticClass:"cell-price"},[a("span",{staticClass:"price",on:{click:t.showCouponList}},[t._v(" 10张可用 "),a("ui-icon",{attrs:{type:t.isShowCoupon?"arrow-up":"arrow-down"}})],1)])]):t._e(),t.config.coupon?a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowCoupon,expression:"isShowCoupon"}],staticClass:"item-coupon-list"},[t._m(2)]):t._e()])]),t.data.remainAmount>=t.data.amount?a("div",{staticClass:"btns"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(e){return t.sendPay(null)}}},[t.config.payLoading?a("i",{staticClass:"ui-icon-loading"}):t._e(),t._v("立即支付 ")])]):[a("div",{staticClass:"title-way"},[t._v("直豆余额不足，请选择支付方式：")]),a("div",{staticClass:"pay-way"},[a("div",{staticClass:"btns-way"},[a("span",{staticClass:"btn-weixin",class:{selected:2==this.selectedType},on:{click:function(e){return t.sendPay(2)}}},[a("i",{staticClass:"icon-pay-weixin"}),t._v("微信支付 ")]),a("span",{staticClass:"btn-alipay",class:{selected:1==this.selectedType},on:{click:function(e){return t.sendPay(1)}}},[a("i",{staticClass:"icon-pay-alipay"}),t._v("支付宝 ")])]),a("div",{staticClass:"qrcode-way"},[a("div",{staticClass:"qrcode-image"},[t.showDirectlyPayLoading?a("CssLoading"):t.scanData?a("img",{attrs:{src:t.scanData.qrUrl}}):t._e()],1),0==t.checkStatus?a("div",{staticClass:"pay-result"},[a("span",{staticClass:"gray"},[t._v("使用"+t._s(t.selectedChannel)+"扫码支付")]),a("a",{staticClass:"link-check",attrs:{href:"javascript:;"},on:{click:function(e){return t.checkRechargeBean(!0)}}},[t._v("我已支付")])]):t._e(),2==t.checkStatus||3==t.checkStatus?a("div",{staticClass:"pay-result"},[a("span",{staticClass:"gray"},[t._v("未支付成功，请您扫码完成支付。")]),a("a",{staticClass:"link-check",attrs:{href:"javascript:;"},on:{click:function(e){return t.checkRechargeBean(!0)}}},[t._v("重新查询")])]):t._e(),9==t.checkStatus?a("div",{staticClass:"pay-result"},[t._m(3)]):t._e()])])]]:t._e(),t._m(4)],2)},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"pay-title"},[e("img",{attrs:{src:a(1266)}}),e("span",[this._v("确认支付")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"gray"},[e("i",{staticClass:"ui-icon-loading"}),this._v("正在查询支付结果，请稍后 ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"selected"},[this._v("减10直豆")]),e("span",[this._v("减20直豆")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"gray"},[e("i",{staticClass:"ui-icon-loading"}),this._v("正在查询支付结果，请稍后 ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-protocol"},[this._v(" 付费即表示同意 "),e("a",{attrs:{href:"https://about.zhipin.com/agreement?id=appreciationserviceprotocol",target:"_blank"}},[this._v("《BOSS直聘增值服务协议》")])])}]},1972:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"competitive-buy"},[n("h3",{staticClass:"name"},[n("img",{attrs:{src:t.data.itemIcon+"?x-oss-process=image/resize,w_160,limit_0"}}),n("span",[t._v(t._s(t.data.itemName))])]),"resume-refresh"===t.propType?n("p",{staticClass:"sub-title"},[t._v("每日最多使用1次")]):t._e(),n("ul",{staticClass:"prop-list"},t._l(t.itemSellItemList,(function(e,a){return n("li",{key:a,class:t.preferentialClasses(e,a),on:{click:function(a){return t.selectItem(e)}}},[n("span",{staticClass:"cell-name"},[t._v(t._s(e.specDesc)),e.discountDesc?n("em",{staticClass:"discount gray"},[t._v("("+t._s(e.discountDesc)+")")]):t._e()]),n("span",{staticClass:"price"},[t._v("￥"+t._s(e.price))])])})),0),t.discountList.length?n("div",{staticClass:"discount-info"},[n("span",{staticClass:"info-label"},[t._v("享受优惠：")]),n("ul",{staticClass:"discount-list"},t._l(t.discountList,(function(e,s){return n("li",{key:s},[n("img",{attrs:{src:a(1645)}}),t._v(t._s(e))])})),0),t.allDiscountList.length?n("div",{staticClass:"discount-more"},[n("img",{staticClass:"discount-more-btn",attrs:{src:a(1646),alt:""}}),n("div",{staticClass:"discount-more-container"},[n("ul",t._l(t.allDiscountList,(function(e,a){return n("li",{key:a},[n("span",{staticClass:"label-icon"},[t._v(t._s(e.tag||""))]),n("em",[t._v(t._s(e.discountDesc||""))]),e.url?n("a",{attrs:{href:e.url,target:"_blank"}},[t._v("查看详情")]):t._e()])})),0)])]):t._e()]):t._e(),n("div",{staticClass:"total-price"},[t.originalPrice>t.discountPrice?[n("span",{staticClass:"discount-price"},[t._v("¥ "+t._s(t.discountPrice))]),n("span",{staticClass:"origin-price"},[t._v("原价："+t._s(t.originalPrice))])]:n("span",{staticClass:"discount-price"},[t._v("¥ "+t._s(t.discountPrice))])],2),n("div",{staticClass:"btns"},[n("button",{staticClass:"btn btn-primary btn-outline cancel-btn",attrs:{type:"button"},on:{click:function(e){return t.$emit("on-cancel")}}},[t._v("取消")]),n("button",{staticClass:"btn btn-primary buy-btn",attrs:{type:"button",ka:"pay_btn_"+t.data.encryptItemType},on:{click:t.sendPreOrderAction}},[this.config.requestLoading?n("i",{staticClass:"ui-icon-loading"}):t._e(),t._v("立即购买")])])])},s=[]}}]);